{"version":3,"sources":["utils/sourceCode.js","utils/defaultBenchmark.js","App.js","components/Benchmark.jsx","components/ClassComponent.jsx","components/FunctionalComponent.jsx","components/HooksComponent.jsx","index.js"],"names":["__webpack_require__","d","__webpack_exports__","classComponentCode","functionalComponentCode","hooksComponentCode","defaultBenchmark","componentMap","class","ClassComponent","functional","FunctionalComponent","hooks","HooksComponent","componentDescriptionMap","componentCodeMap","clearedTimes","startTime","endTime","defaultBenchmarkFunction","eval","concat","App","props","_this","Object","_home_matthias_Projects_stress_hooks_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","_home_matthias_Projects_stress_hooks_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_home_matthias_Projects_stress_hooks_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","catchRuntimeError","errorMessage","setState","_home_matthias_Projects_stress_hooks_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","runtimeError","runBenchmark","handleChangeBenchmark","e","benchmarkBody","currentTarget","value","handleUpdateBenchmark","benchmark","state","error","syntaxError","message","handleChangeArgument","idx","values","slice","splice","handleChangeTotalRenders","totalRenders","handleChangeComponent","component","handleChangeWithMemo","withMemo","handleClickRunBenchmark","preventDefault","Date","stopBenchmark","stopTime","isComponent","isClassComponent","isFunctionalComponent","isHooksComponent","renderBenchmarkFunction","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","Fragment","rows","onBlur","onChange","renderErrors","_this$state","Boolean","renderArgumentInputs","_this$state2","argumentInputs","length","push","key","name","type","disabled","renderOptions","_this$state3","className","checked","renderGoButton","_this$state4","onClick","renderBenchmark","_this$state5","_components_Benchmark__WEBPACK_IMPORTED_MODULE_7__","renderResults","_this$state6","componentDescription","getTime","renderBenchmarkInfo","_this$state7","propsString","toString","join","React","Component","Benchmark","renderNumber","increaseRenderNumber","bind","_home_matthias_Projects_stress_hooks_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","_this2","setTimeout","_this$props","rest","_home_matthias_Projects_stress_hooks_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_7___default","assign","result","apply","_home_matthias_Projects_stress_hooks_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1___default","calculatedResult","useMemo","_home_matthias_Projects_stress_hooks_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","n","_useState","useState","_home_matthias_Projects_stress_hooks_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_2___default","r","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","react_dom__WEBPACK_IMPORTED_MODULE_1__","react_dom__WEBPACK_IMPORTED_MODULE_1___default","_App__WEBPACK_IMPORTED_MODULE_3__","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bda5a2c9.chunk.js","sourcesContent":["export const classComponentCode = `\nimport React from 'react';\n\nclass ClassComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    const { benchmark, values } = props;\n    this.state = { result: benchmark(...values) };\n  }\n\n  render() {\n    return (\n      <>\n        <h2>Class Component</h2>\n        <table>\n          <tbody>\n            <tr>\n              <td>Result</td>\n              <td>{this.state.result}</td>\n            </tr>\n            <tr>\n              <td>Render #</td>\n              <td>{this.props.renderNumber}</td>\n            </tr>\n          </tbody>\n        </table>\n      </>\n    );\n  }\n}\n`;\n\nexport const functionalComponentCode = `\nimport React from 'react';\n\nfunction FunctionalComponent(props) {\n  const { benchmark, values } = this.props;\n  const result = benchmark(...values);\n\n  return (\n    <>\n      <h2>Functional component without Hooks</h2>\n      <table>\n        <tbody>\n          <tr>\n            <td>Result</td>\n            <td>{result}</td>\n          </tr>\n          <tr>\n            <td>Render #</td>\n            <td>{props.renderNumber}</td>\n          </tr>\n        </tbody>\n      </table>\n    </>\n  );\n}\n`;\n\nexport const hooksComponentCode = `\nimport React, { useState, useMemo } from 'react';\n\nfunction HooksComponent(props) {\n  const { benchmark, values } = props;\n  const calculatedResult = props.withMemo\n    ? useMemo(() => benchmark(...values), props.n)\n    : benchmark(...values);\n  const [result] = useState(calculatedResult);\n\n  return (\n    <>\n      <h2>Functional component with Hooks</h2>\n      <table>\n        <tbody>\n          <tr>\n            <td>Result</td>\n            <td>{result}</td>\n          </tr>\n          <tr>\n            <td>Render #</td>\n            <td>{props.renderNumber}</td>\n          </tr>\n        </tbody>\n      </table>\n    </>\n  );\n}\n`;\n","const defaultBenchmark = `\nfunction nthFibonacci(n) {\n  if (n <= 0) return 0;\n  if (n === 1) return 1;\n\n  return nthFibonacci(n - 1) + nthFibonacci(n - 2);\n}\n`;\n\nexport default defaultBenchmark;\n","import React from 'react';\nimport Benchmark from './components/Benchmark';\nimport ClassComponent from './components/ClassComponent';\nimport FunctionalComponent from './components/FunctionalComponent';\nimport HooksComponent from './components/HooksComponent';\nimport {\n  classComponentCode,\n  functionalComponentCode,\n  hooksComponentCode,\n} from './utils/sourceCode';\nimport defaultBenchmark from './utils/defaultBenchmark';\nimport './App.css';\n\nconst componentMap = {\n  class: ClassComponent,\n  functional: FunctionalComponent,\n  hooks: HooksComponent,\n};\n\nconst componentDescriptionMap = {\n  class: 'class component',\n  functional: 'functional component without hooks',\n  hooks: 'functional component with hooks',\n};\n\nconst componentCodeMap = {\n  class: classComponentCode,\n  functional: functionalComponentCode,\n  hooks: hooksComponentCode,\n};\n\nconst clearedTimes = { startTime: null, endTime: null };\n\n/* eslint-disable no-eval */\nlet defaultBenchmarkFunction;\neval(`defaultBenchmarkFunction = ${defaultBenchmark}`);\n/* eslint-enable no-eval */\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      benchmark: defaultBenchmarkFunction,\n      component: null,\n      runBenchmark: false,\n      withMemo: false,\n      values: [35],\n      startTime: null,\n      stopTime: null,\n      totalRenders: 10,\n      benchmarkBody: defaultBenchmark,\n      syntaxError: null,\n      runtimeError: null,\n    };\n  }\n\n  catchRuntimeError = errorMessage => {\n    this.setState({\n      runtimeError: errorMessage,\n      runBenchmark: false,\n      ...clearedTimes,\n    });\n  };\n\n  handleChangeBenchmark = e => {\n    this.setState({ benchmarkBody: e.currentTarget.value });\n  };\n\n  handleUpdateBenchmark = () => {\n    try {\n      let benchmark;\n      /* eslint-disable no-eval */\n      eval(`benchmark = ${this.state.benchmarkBody}`);\n      /* eslint-enable no-eval */\n      this.setState({ benchmark });\n    } catch (error) {\n      this.setState({ syntaxError: error.message, benchmark: null });\n    }\n  };\n\n  handleChangeArgument = idx => e => {\n    const values = this.state.values.slice();\n    values.splice(idx, 1, e.currentTarget.value);\n    this.setState({ values, ...clearedTimes });\n  };\n\n  handleChangeTotalRenders = e => {\n    this.setState({ totalRenders: e.currentTarget.value, ...clearedTimes });\n  };\n\n  handleChangeComponent = component => {\n    return () => {\n      this.setState({ component, ...clearedTimes });\n    };\n  };\n\n  handleChangeWithMemo = () => {\n    this.setState(state => ({ withMemo: !state.withMemo, ...clearedTimes }));\n  };\n\n  handleClickRunBenchmark = e => {\n    e.preventDefault();\n    this.setState({ runBenchmark: true, startTime: new Date() });\n  };\n\n  stopBenchmark = () => {\n    this.setState({ runBenchmark: false, stopTime: new Date() });\n  };\n\n  isComponent = component => {\n    return this.state.component === component;\n  };\n\n  isClassComponent = () => {\n    return this.isComponent('class');\n  };\n\n  isFunctionalComponent = () => {\n    return this.isComponent('functional');\n  };\n\n  isHooksComponent = () => {\n    return this.isComponent('hooks');\n  };\n\n  renderBenchmarkFunction = () => {\n    const { benchmarkBody } = this.state;\n    return (\n      <React.Fragment>\n        <h2>Benchmark function:</h2>\n        <label>\n          Function body:\n          <br />\n          <textarea\n            rows=\"12\"\n            value={benchmarkBody}\n            onBlur={this.handleUpdateBenchmark}\n            onChange={this.handleChangeBenchmark}\n          />\n        </label>\n      </React.Fragment>\n    );\n  };\n\n  renderErrors = () => {\n    const { syntaxError, runtimeError } = this.state;\n    return (\n      <React.Fragment>\n        {Boolean(syntaxError) && <p>Syntax error: {syntaxError}</p>}\n        {Boolean(runtimeError) && <p>Runtime error: {runtimeError}</p>}\n      </React.Fragment>\n    );\n  };\n\n  renderArgumentInputs = () => {\n    const { benchmark, values, syntaxError } = this.state;\n    const argumentInputs = [];\n    if (benchmark) {\n      for (let idx = 0; idx < benchmark.length; idx++) {\n        argumentInputs.push(\n          <label key={idx}>\n            Argument {idx}:{' '}\n            <input\n              name={`argument ${idx}`}\n              type=\"text\"\n              value={values[idx]}\n              onChange={this.handleChangeArgument(idx)}\n              disabled={syntaxError}\n            />\n            <br />\n          </label>\n        );\n      }\n    }\n    return argumentInputs;\n  };\n\n  renderOptions = () => {\n    const { totalRenders, syntaxError, withMemo } = this.state;\n    return (\n      <React.Fragment>\n        <label>\n          Total number of renders:{' '}\n          <input\n            name=\"total number of renders\"\n            type=\"number\"\n            value={totalRenders}\n            onChange={this.handleChangeTotalRenders}\n            disabled={syntaxError}\n          />\n        </label>\n        <div className=\"radio\">\n          <label>\n            <input\n              type=\"radio\"\n              value=\"class\"\n              checked={this.isClassComponent()}\n              onChange={this.handleChangeComponent('class')}\n              disabled={syntaxError}\n            />\n            {componentDescriptionMap.class}\n          </label>\n        </div>\n        <div className=\"radio\">\n          <label>\n            <input\n              type=\"radio\"\n              value=\"functional\"\n              checked={this.isFunctionalComponent()}\n              onChange={this.handleChangeComponent('functional')}\n              disabled={syntaxError}\n            />\n            {componentDescriptionMap.functional}\n          </label>\n        </div>\n        <div className=\"radio\">\n          <label>\n            <input\n              type=\"radio\"\n              value=\"hooks\"\n              checked={this.isHooksComponent()}\n              onChange={this.handleChangeComponent('hooks')}\n              disabled={syntaxError}\n            />\n            {componentDescriptionMap.hooks}\n          </label>\n        </div>\n        <label>\n          Use useMemo:\n          <input\n            name=\"withMemo\"\n            type=\"checkbox\"\n            checked={withMemo}\n            onChange={this.handleChangeWithMemo}\n            disabled={syntaxError || !this.isHooksComponent()}\n          />\n        </label>\n      </React.Fragment>\n    );\n  };\n\n  renderGoButton = () => {\n    const { syntaxError, component } = this.state;\n    return (\n      <button\n        onClick={this.handleClickRunBenchmark}\n        disabled={syntaxError || !component}\n      >\n        Go!\n      </button>\n    );\n  };\n\n  renderBenchmark = () => {\n    const {\n      runBenchmark,\n      component,\n      benchmark,\n      values,\n      totalRenders,\n      withMemo,\n    } = this.state;\n    return (\n      runBenchmark && (\n        <Benchmark\n          component={componentMap[component]}\n          benchmark={benchmark}\n          values={values}\n          totalRenders={totalRenders}\n          withMemo={withMemo}\n          stopBenchmark={this.stopBenchmark}\n          catchRuntimeError={this.catchRuntimeError}\n        />\n      )\n    );\n  };\n\n  renderResults = () => {\n    const {\n      runBenchmark,\n      startTime,\n      stopTime,\n      totalRenders,\n      component,\n      withMemo,\n    } = this.state;\n\n    const componentDescription = this.isHooksComponent()\n      ? `${componentDescriptionMap[component]} ${\n          withMemo ? '' : 'without '\n        }using useMemo`\n      : componentDescriptionMap[component];\n    return (\n      !runBenchmark &&\n      Boolean(startTime) &&\n      Boolean(stopTime) && (\n        <p>\n          Calculating the function {totalRenders} times took the{' '}\n          {componentDescription} {stopTime.getTime() - startTime.getTime()}{' '}\n          milliseconds.\n        </p>\n      )\n    );\n  };\n\n  renderBenchmarkInfo = () => {\n    const { component, benchmark, values, withMemo } = this.state;\n    const propsString = `\nprops = {\n  benchmark: ${benchmark && benchmark.toString().slice(0, 20)}...},\n  catchRuntimeError: errorMessage => {...},\n  values: [${values.join(' ')}],\n  withMemo: ${withMemo},\n}\n      `;\n    return (\n      Boolean(component) && (\n        <React.Fragment>\n          <xmp>{componentCodeMap[component]}</xmp>\n          <xmp>{propsString}</xmp>\n        </React.Fragment>\n      )\n    );\n  };\n\n  render() {\n    return (\n      <>\n        <h1>Stress Testing React Hooks</h1>\n        <form>\n          {this.renderBenchmarkFunction()}\n          {this.renderErrors()}\n          <br />\n          {this.renderArgumentInputs()}\n          {this.renderOptions()}\n          {this.renderGoButton()}\n        </form>\n        {this.renderBenchmark()}\n        {this.renderResults()}\n        {this.renderBenchmarkInfo()}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\n\nclass Benchmark extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { renderNumber: 1 };\n    this.increaseRenderNumber = this.increaseRenderNumber.bind(this);\n  }\n\n  componentDidMount() {\n    this.increaseRenderNumber();\n  }\n\n  increaseRenderNumber() {\n    if (this.state.renderNumber <= this.props.totalRenders) {\n      this.setState(\n        state => ({ renderNumber: state.renderNumber + 1 }),\n        () => {\n          setTimeout(this.increaseRenderNumber, 0);\n        }\n      );\n    } else {\n      this.props.stopBenchmark();\n    }\n  }\n\n  render() {\n    const { component: Component, ...rest } = this.props;\n    return <Component renderNumber={this.state.renderNumber} {...rest} />;\n  }\n}\n\nexport default Benchmark;\n","import React from 'react';\n\nclass ClassComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    const { benchmark, values, catchRuntimeError } = this.props;\n    let result;\n    try {\n      result = benchmark(...values);\n    } catch (error) {\n      catchRuntimeError(error.message);\n    }\n    this.state = { result: result };\n  }\n\n  render() {\n    return (\n      <>\n        <h2>Class Component</h2>\n        <table>\n          <tbody>\n            <tr>\n              <td>Result</td>\n              <td>{this.state.result}</td>\n            </tr>\n            <tr>\n              <td>Render #</td>\n              <td>{this.props.renderNumber}</td>\n            </tr>\n          </tbody>\n        </table>\n      </>\n    );\n  }\n}\n\nexport default ClassComponent;\n","import React from 'react';\n\nfunction FunctionalComponent(props) {\n  const { benchmark, values, catchRuntimeError } = props;\n  let result;\n  try {\n    result = benchmark(...values);\n  } catch (error) {\n    catchRuntimeError(error.message);\n  }\n\n  return (\n    <>\n      <h2>Functional component without Hooks</h2>\n      <table>\n        <tbody>\n          <tr>\n            <td>Result</td>\n            <td>{result}</td>\n          </tr>\n          <tr>\n            <td>Render #</td>\n            <td>{props.renderNumber}</td>\n          </tr>\n        </tbody>\n      </table>\n    </>\n  );\n}\n\nexport default FunctionalComponent;\n","import React, { useState, useMemo } from 'react';\n\nfunction HooksComponent(props) {\n  const { benchmark, values, catchRuntimeError } = props;\n  let calculatedResult;\n  try {\n    calculatedResult = props.withMemo\n      ? useMemo(() => benchmark(...values), props.n)\n      : benchmark(...values);\n  } catch (error) {\n    catchRuntimeError(error.message);\n  }\n  const [result] = useState(calculatedResult);\n\n  return (\n    <>\n      <h2>Functional component with Hooks</h2>\n      <table>\n        <tbody>\n          <tr>\n            <td>Result</td>\n            <td>{result}</td>\n          </tr>\n          <tr>\n            <td>Render #</td>\n            <td>{props.renderNumber}</td>\n          </tr>\n        </tbody>\n      </table>\n    </>\n  );\n}\n\nexport default HooksComponent;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}