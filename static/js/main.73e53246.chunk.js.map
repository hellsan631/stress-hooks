{"version":3,"sources":["utils/sourceCode.js","utils/defaultBenchmark.js","App.js","components/Benchmark.jsx","components/FibClass.jsx","components/FibFunctional.jsx","components/FibHooks.jsx","index.js"],"names":["__webpack_require__","d","__webpack_exports__","fibClassCode","fibFunctionalCode","fibHooksCode","defaultBenchmark","componentMap","class","FibClass","functional","FibFunctional","hooks","FibHooks","componentDescriptionMap","componentCodeMap","clearedTimes","startTime","endTime","defaultBenchmarkFunction","eval","concat","App","props","_this","Object","_home_matthias_Projects_stress_hooks_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","_home_matthias_Projects_stress_hooks_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_home_matthias_Projects_stress_hooks_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","catchRuntimeError","errorMessage","setState","_home_matthias_Projects_stress_hooks_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","runtimeError","runBenchmark","handleChangeBenchmark","e","benchmarkBody","currentTarget","value","handleUpdateBenchmark","benchmark","state","error","syntaxError","message","handleChangeArgument","idx","values","slice","splice","handleChangeTotalRenders","totalRenders","handleChangeComponent","component","handleChangeWithMemo","withMemo","handleClickRunBenchmark","preventDefault","Date","stopBenchmark","stopTime","isComponent","isClassComponent","isFunctionalComponent","isHooksComponent","_this$state","componentDescription","propsString","toString","join","argumentInputs","length","push","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","key","name","type","onChange","disabled","console","log","Fragment","rows","onBlur","Boolean","className","checked","onClick","_components_Benchmark__WEBPACK_IMPORTED_MODULE_7__","getTime","React","Component","Benchmark","renderNumber","increaseRenderNumber","bind","_home_matthias_Projects_stress_hooks_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","_this2","setTimeout","_this$props","rest","_home_matthias_Projects_stress_hooks_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_7___default","assign","result","apply","_home_matthias_Projects_stress_hooks_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1___default","calculatedResult","useMemo","_home_matthias_Projects_stress_hooks_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","n","_useState","useState","_home_matthias_Projects_stress_hooks_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_2___default","r","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","react_dom__WEBPACK_IMPORTED_MODULE_1__","react_dom__WEBPACK_IMPORTED_MODULE_1___default","_App__WEBPACK_IMPORTED_MODULE_3__","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.73e53246.chunk.js","sourcesContent":["export const fibClassCode = `\nimport React from 'react';\n\nclass FibClass extends React.Component {\n  constructor(props) {\n    super(props);\n    const { benchmark, values } = props;\n    this.state = { result: benchmark(...values) };\n  }\n\n  render() {\n    return (\n      <>\n        <h2>Class Component</h2>\n        <table>\n          <tbody>\n            <tr>\n              <td>Result</td>\n              <td>{this.state.result}</td>\n            </tr>\n            <tr>\n              <td>Render #</td>\n              <td>{this.props.renderNumber}</td>\n            </tr>\n          </tbody>\n        </table>\n      </>\n    );\n  }\n}\n`;\n\nexport const fibFunctionalCode = `\nimport React from 'react';\n\nfunction FibFunctional(props) {\n  const { benchmark, values } = this.props;\n  const result = benchmark(...values);\n\n  return (\n    <>\n      <h2>Functional component without Hooks</h2>\n      <table>\n        <tbody>\n          <tr>\n            <td>Result</td>\n            <td>{result}</td>\n          </tr>\n          <tr>\n            <td>Render #</td>\n            <td>{props.renderNumber}</td>\n          </tr>\n        </tbody>\n      </table>\n    </>\n  );\n}\n`;\n\nexport const fibHooksCode = `\nimport React, { useState, useMemo } from 'react';\n\nfunction FibHooks(props) {\n  const { benchmark, values } = props;\n  const calculatedResult = props.withMemo\n    ? useMemo(() => benchmark(...values), props.n)\n    : benchmark(...values);\n  const [result] = useState(calculatedResult);\n\n  return (\n    <>\n      <h2>Functional component with Hooks</h2>\n      <table>\n        <tbody>\n          <tr>\n            <td>Result</td>\n            <td>{result}</td>\n          </tr>\n          <tr>\n            <td>Render #</td>\n            <td>{props.renderNumber}</td>\n          </tr>\n        </tbody>\n      </table>\n    </>\n  );\n}\n`;\n","const defaultBenchmark = `\nfunction nthFib(n) {\n  if (n <= 0) return 0;\n  if (n === 1) return 1;\n\n  return nthFib(n - 1) + nthFib(n - 2);\n}\n`;\n\nexport default defaultBenchmark;\n","import React from 'react';\nimport Benchmark from './components/Benchmark';\nimport FibClass from './components/FibClass';\nimport FibFunctional from './components/FibFunctional';\nimport FibHooks from './components/FibHooks';\nimport {\n  fibClassCode,\n  fibFunctionalCode,\n  fibHooksCode,\n} from './utils/sourceCode';\nimport defaultBenchmark from './utils/defaultBenchmark';\nimport './App.css';\n\nconst componentMap = {\n  class: FibClass,\n  functional: FibFunctional,\n  hooks: FibHooks,\n};\n\nconst componentDescriptionMap = {\n  class: 'class component',\n  functional: 'functional component without hooks',\n  hooks: 'functional component with hooks',\n};\n\nconst componentCodeMap = {\n  class: fibClassCode,\n  functional: fibFunctionalCode,\n  hooks: fibHooksCode,\n};\n\nconst clearedTimes = { startTime: null, endTime: null };\n\n/* eslint-disable no-eval */\nlet defaultBenchmarkFunction;\neval(`defaultBenchmarkFunction = ${defaultBenchmark}`);\n/* eslint-enable no-eval */\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      benchmark: defaultBenchmarkFunction,\n      component: null,\n      runBenchmark: false,\n      withMemo: false,\n      values: [35],\n      startTime: null,\n      stopTime: null,\n      totalRenders: 10,\n      benchmarkBody: defaultBenchmark,\n      syntaxError: null,\n      runtimeError: null,\n    };\n  }\n\n  catchRuntimeError = errorMessage => {\n    this.setState({\n      runtimeError: errorMessage,\n      runBenchmark: false,\n      ...clearedTimes,\n    });\n  };\n\n  handleChangeBenchmark = e => {\n    this.setState({ benchmarkBody: e.currentTarget.value });\n  };\n\n  handleUpdateBenchmark = () => {\n    try {\n      let benchmark;\n      /* eslint-disable no-eval */\n      eval(`benchmark = ${this.state.benchmarkBody}`);\n      /* eslint-enable no-eval */\n      this.setState({ benchmark });\n    } catch (error) {\n      this.setState({ syntaxError: error.message, benchmark: null });\n    }\n  };\n\n  handleChangeArgument = idx => e => {\n    const values = this.state.values.slice();\n    values.splice(idx, 1, e.currentTarget.value);\n    this.setState({ values, ...clearedTimes });\n  };\n\n  handleChangeTotalRenders = e => {\n    this.setState({ totalRenders: e.currentTarget.value, ...clearedTimes });\n  };\n\n  handleChangeComponent = component => {\n    return () => {\n      this.setState({ component, ...clearedTimes });\n    };\n  };\n\n  handleChangeWithMemo = () => {\n    this.setState(state => ({ withMemo: !state.withMemo, ...clearedTimes }));\n  };\n\n  handleClickRunBenchmark = e => {\n    e.preventDefault();\n    this.setState({ runBenchmark: true, startTime: new Date() });\n  };\n\n  stopBenchmark = () => {\n    this.setState({ runBenchmark: false, stopTime: new Date() });\n  };\n\n  isComponent = component => {\n    return this.state.component === component;\n  };\n\n  isClassComponent = () => {\n    return this.isComponent('class');\n  };\n\n  isFunctionalComponent = () => {\n    return this.isComponent('functional');\n  };\n\n  isHooksComponent = () => {\n    return this.isComponent('hooks');\n  };\n\n  render() {\n    const {\n      component,\n      runBenchmark,\n      withMemo,\n      startTime,\n      stopTime,\n      totalRenders,\n      benchmarkBody,\n      benchmark,\n      syntaxError,\n      values,\n      runtimeError,\n    } = this.state;\n\n    const componentDescription = this.isHooksComponent()\n      ? `${componentDescriptionMap[component]} ${\n          withMemo ? '' : 'without '\n        }using useMemo`\n      : componentDescriptionMap[component];\n\n    const propsString = `\nprops = {\n  benchmark: ${benchmark && benchmark.toString().slice(0, 20)}...},\n  catchRuntimeError: errorMessage => {...},\n  values: [${values.join(' ')}],\n  withMemo: ${withMemo},\n}\n      `;\n\n    const argumentInputs = [];\n    if (benchmark) {\n      for (let idx = 0; idx < benchmark.length; idx++) {\n        argumentInputs.push(\n          <label key={idx}>\n            Argument {idx}:{' '}\n            <input\n              name={`argument ${idx}`}\n              type=\"text\"\n              value={values[idx]}\n              onChange={this.handleChangeArgument(idx)}\n              disabled={syntaxError}\n            />\n            <br />\n          </label>\n        );\n      }\n    }\n\n    console.log({ runtimeError });\n\n    return (\n      <>\n        <h1>Stress Testing React Hooks</h1>\n        <form>\n          <h2>Benchmark function:</h2>\n          <label>\n            Function body:\n            <br />\n            <textarea\n              rows=\"12\"\n              value={benchmarkBody}\n              onBlur={this.handleUpdateBenchmark}\n              onChange={this.handleChangeBenchmark}\n            />\n          </label>\n          {Boolean(syntaxError) && <p>Syntax error: {syntaxError}</p>}\n          {Boolean(runtimeError) && <p>Runtime error: {runtimeError}</p>}\n          <br />\n          {argumentInputs}\n          <label>\n            Total number of renders:{' '}\n            <input\n              name=\"total number of renders\"\n              type=\"number\"\n              value={totalRenders}\n              onChange={this.handleChangeTotalRenders}\n              disabled={syntaxError}\n            />\n          </label>\n          <div className=\"radio\">\n            <label>\n              <input\n                type=\"radio\"\n                value=\"class\"\n                checked={this.isClassComponent()}\n                onChange={this.handleChangeComponent('class')}\n                disabled={syntaxError}\n              />\n              {componentDescriptionMap.class}\n            </label>\n          </div>\n          <div className=\"radio\">\n            <label>\n              <input\n                type=\"radio\"\n                value=\"functional\"\n                checked={this.isFunctionalComponent()}\n                onChange={this.handleChangeComponent('functional')}\n                disabled={syntaxError}\n              />\n              {componentDescriptionMap.functional}\n            </label>\n          </div>\n          <div className=\"radio\">\n            <label>\n              <input\n                type=\"radio\"\n                value=\"hooks\"\n                checked={this.isHooksComponent()}\n                onChange={this.handleChangeComponent('hooks')}\n                disabled={syntaxError}\n              />\n              {componentDescriptionMap.hooks}\n            </label>\n          </div>\n          <label>\n            Use useMemo:\n            <input\n              name=\"withMemo\"\n              type=\"checkbox\"\n              checked={withMemo}\n              onChange={this.handleChangeWithMemo}\n              disabled={syntaxError || !this.isHooksComponent()}\n            />\n          </label>\n          <button\n            onClick={this.handleClickRunBenchmark}\n            disabled={syntaxError || !component}\n          >\n            Go!\n          </button>\n        </form>\n        {runBenchmark && (\n          <Benchmark\n            component={componentMap[component]}\n            benchmark={benchmark}\n            values={values}\n            totalRenders={totalRenders}\n            withMemo={withMemo}\n            stopBenchmark={this.stopBenchmark}\n            catchRuntimeError={this.catchRuntimeError}\n          />\n        )}\n        {!runBenchmark && Boolean(startTime) && Boolean(stopTime) && (\n          <p>\n            Calculating the function {totalRenders} times took the{' '}\n            {componentDescription} {stopTime.getTime() - startTime.getTime()}{' '}\n            milliseconds.\n          </p>\n        )}\n        {Boolean(component) && (\n          <>\n            <xmp>{componentCodeMap[component]}</xmp>\n            <xmp>{propsString}</xmp>\n          </>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\n\nclass Benchmark extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { renderNumber: 1 };\n    this.increaseRenderNumber = this.increaseRenderNumber.bind(this);\n  }\n\n  componentDidMount() {\n    this.increaseRenderNumber();\n  }\n\n  increaseRenderNumber() {\n    if (this.state.renderNumber <= this.props.totalRenders) {\n      this.setState(\n        state => ({ renderNumber: state.renderNumber + 1 }),\n        () => {\n          setTimeout(this.increaseRenderNumber, 0);\n        }\n      );\n    } else {\n      this.props.stopBenchmark();\n    }\n  }\n\n  render() {\n    const { component: Component, ...rest } = this.props;\n    return <Component renderNumber={this.state.renderNumber} {...rest} />;\n  }\n}\n\nexport default Benchmark;\n","import React from 'react';\n\nclass FibClass extends React.Component {\n  constructor(props) {\n    super(props);\n    const { benchmark, values, catchRuntimeError } = this.props;\n    let result;\n    try {\n      result = benchmark(...values);\n    } catch (error) {\n      catchRuntimeError(error.message);\n    }\n    this.state = { result: result };\n  }\n\n  render() {\n    return (\n      <>\n        <h2>Class Component</h2>\n        <table>\n          <tbody>\n            <tr>\n              <td>Result</td>\n              <td>{this.state.result}</td>\n            </tr>\n            <tr>\n              <td>Render #</td>\n              <td>{this.props.renderNumber}</td>\n            </tr>\n          </tbody>\n        </table>\n      </>\n    );\n  }\n}\n\nexport default FibClass;\n","import React from 'react';\n\nfunction FibFunctional(props) {\n  const { benchmark, values, catchRuntimeError } = props;\n  let result;\n  try {\n    result = benchmark(...values);\n  } catch (error) {\n    catchRuntimeError(error.message);\n  }\n\n  return (\n    <>\n      <h2>Functional component without Hooks</h2>\n      <table>\n        <tbody>\n          <tr>\n            <td>Result</td>\n            <td>{result}</td>\n          </tr>\n          <tr>\n            <td>Render #</td>\n            <td>{props.renderNumber}</td>\n          </tr>\n        </tbody>\n      </table>\n    </>\n  );\n}\n\nexport default FibFunctional;\n","import React, { useState, useMemo } from 'react';\n\nfunction FibHooks(props) {\n  const { benchmark, values, catchRuntimeError } = props;\n  let calculatedResult;\n  try {\n    calculatedResult = props.withMemo\n      ? useMemo(() => benchmark(...values), props.n)\n      : benchmark(...values);\n  } catch (error) {\n    catchRuntimeError(error.message);\n  }\n  const [result] = useState(calculatedResult);\n\n  return (\n    <>\n      <h2>Functional component with Hooks</h2>\n      <table>\n        <tbody>\n          <tr>\n            <td>Result</td>\n            <td>{result}</td>\n          </tr>\n          <tr>\n            <td>Render #</td>\n            <td>{props.renderNumber}</td>\n          </tr>\n        </tbody>\n      </table>\n    </>\n  );\n}\n\nexport default FibHooks;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}