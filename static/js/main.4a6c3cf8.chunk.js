(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,_,t){"use strict";t.d(_,"a",function(){return n}),t.d(_,"b",function(){return r}),t.d(_,"c",function(){return a});var n="import React from 'react';\n\nclass ClassComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    const { benchmark, values } = props;\n    this.state = { result: benchmark(...values) };\n  }\n\n  render() {\n    return (\n      <>\n        <h2>Class Component</h2>\n        <table>\n          <tbody>\n            <tr>\n              <td>Result</td>\n              <td>{this.state.result}</td>\n            </tr>\n            <tr>\n              <td>Render #</td>\n              <td>{this.props.renderNumber}</td>\n            </tr>\n          </tbody>\n        </table>\n      </>\n    );\n  }\n}",r="import React from 'react';\n\nfunction FunctionalComponent(props) {\n  const { benchmark, values } = this.props;\n  const result = benchmark(...values);\n\n  return (\n    <>\n      <h2>Functional component without Hooks</h2>\n      <table>\n        <tbody>\n          <tr>\n            <td>Result</td>\n            <td>{result}</td>\n          </tr>\n          <tr>\n            <td>Render #</td>\n            <td>{props.renderNumber}</td>\n          </tr>\n        </tbody>\n      </table>\n    </>\n  );\n}",a="import React, { useState, useMemo } from 'react';\n\nfunction HooksComponent(props) {\n  const { benchmark, values } = props;\n  const calculatedResult = props.withMemo\n    ? useMemo(() => benchmark(...values), props.n)\n    : benchmark(...values);\n  const [result] = useState(calculatedResult);\n\n  return (\n    <>\n      <h2>Functional component with Hooks</h2>\n      <table>\n        <tbody>\n          <tr>\n            <td>Result</td>\n            <td>{result}</td>\n          </tr>\n          <tr>\n            <td>Render #</td>\n            <td>{props.renderNumber}</td>\n          </tr>\n        </tbody>\n      </table>\n    </>\n  );\n}"},,,,function(e,_,t){"use strict";var n=t(1),r=t.n(n),a=t(11);_.a=function(e){return console.log({defaultProps:a.b}),r.a.createElement(a.a,Object.assign({},a.b,{code:e.code,language:"jsx"}),function(e){var _=e.className,t=e.style,n=e.tokens,a=e.getLineProps,s=e.getTokenProps;return r.a.createElement("pre",{className:_,style:t},n.map(function(e,_){return r.a.createElement("div",a({line:e,key:_}),e.map(function(e,_){return r.a.createElement("span",s({token:e,key:_}))}))}))})}},function(e,_,t){"use strict";_.a="function nthFibonacci(n) {\n  if (n <= 0) return 0;\n  if (n === 1) return 1;\n\n  return nthFibonacci(n - 1) + nthFibonacci(n - 2);\n}"},,,function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_matthias_Projects_stress_hooks_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8),_home_matthias_Projects_stress_hooks_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_home_matthias_Projects_stress_hooks_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4),_home_matthias_Projects_stress_hooks_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_home_matthias_Projects_stress_hooks_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5),_home_matthias_Projects_stress_hooks_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),react_simple_code_editor__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(19),react_simple_code_editor__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react_simple_code_editor__WEBPACK_IMPORTED_MODULE_7__),prismjs_components_prism_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(13),prismjs_components_prism_core__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prismjs_components_prism_core__WEBPACK_IMPORTED_MODULE_8__),prismjs_components_prism_clike__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(36),prismjs_components_prism_clike__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prismjs_components_prism_clike__WEBPACK_IMPORTED_MODULE_9__),prismjs_components_prism_javascript__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(37),prismjs_components_prism_javascript__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(prismjs_components_prism_javascript__WEBPACK_IMPORTED_MODULE_10__),retrieve_arguments__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(20),retrieve_arguments__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(retrieve_arguments__WEBPACK_IMPORTED_MODULE_11__),_components_Benchmark__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(21),_components_ClassComponent__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(22),_components_FunctionalComponent__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(23),_components_HooksComponent__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(24),_components_CodeSnippet__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(14),_utils_sourceCode__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(10),_utils_defaultBenchmark__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(15),_utils_retrieveArrowArguments__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(26),_App_css__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(38),_App_css__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(_App_css__WEBPACK_IMPORTED_MODULE_20__),componentMap={class:_components_ClassComponent__WEBPACK_IMPORTED_MODULE_13__.a,functional:_components_FunctionalComponent__WEBPACK_IMPORTED_MODULE_14__.a,hooks:_components_HooksComponent__WEBPACK_IMPORTED_MODULE_15__.a},componentDescriptionMap={class:"class component",functional:"functional component without hooks",hooks:"functional component with hooks"},componentCodeMap={class:_utils_sourceCode__WEBPACK_IMPORTED_MODULE_17__.a,functional:_utils_sourceCode__WEBPACK_IMPORTED_MODULE_17__.b,hooks:_utils_sourceCode__WEBPACK_IMPORTED_MODULE_17__.c},clearedTimes={startTime:null,endTime:null},defaultBenchmarkFunction;eval("defaultBenchmarkFunction = ".concat(_utils_defaultBenchmark__WEBPACK_IMPORTED_MODULE_18__.a));var App=function(_React$Component){function App(props){var _this;return Object(_home_matthias_Projects_stress_hooks_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__.a)(this,App),_this=Object(_home_matthias_Projects_stress_hooks_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__.a)(this,Object(_home_matthias_Projects_stress_hooks_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__.a)(App).call(this,props)),_this.catchRuntimeError=function(e){_this.setState(Object(_home_matthias_Projects_stress_hooks_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__.a)({runtimeError:e,runBenchmark:!1},clearedTimes))},_this.handleChangeBenchmark=function(e){_this.setState({benchmarkBody:e})},_this.handleUpdateBenchmark=function(){try{var benchmark;eval("benchmark = ".concat(_this.state.benchmarkBody)),_this.setState({benchmark:benchmark,syntaxError:null})}catch(error){_this.setState({syntaxError:error.message,benchmark:null})}},_this.handleChangeArgument=function(e){return function(_){var t=_this.state.values.slice();t.splice(e,1,_.currentTarget.value),_this.setState(Object(_home_matthias_Projects_stress_hooks_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__.a)({values:t},clearedTimes))}},_this.handleChangeTotalRenders=function(e){_this.setState(Object(_home_matthias_Projects_stress_hooks_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__.a)({totalRenders:e.currentTarget.value},clearedTimes))},_this.handleChangeComponent=function(e){return function(){_this.setState(Object(_home_matthias_Projects_stress_hooks_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__.a)({component:e},clearedTimes))}},_this.handleChangeWithMemo=function(){_this.setState(function(e){return Object(_home_matthias_Projects_stress_hooks_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__.a)({withMemo:!e.withMemo},clearedTimes)})},_this.handleClickRunBenchmark=function(e){e.preventDefault(),_this.setState({runBenchmark:!0,startTime:new Date})},_this.stopBenchmark=function(){_this.setState({runBenchmark:!1,stopTime:new Date})},_this.isComponent=function(e){return _this.state.component===e},_this.isClassComponent=function(){return _this.isComponent("class")},_this.isFunctionalComponent=function(){return _this.isComponent("functional")},_this.isHooksComponent=function(){return _this.isComponent("hooks")},_this.renderBenchmarkFunction=function(){var e=_this.state.benchmarkBody;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("h2",null,"Benchmark function:"),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("label",null,"Benchmark function:",react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_simple_code_editor__WEBPACK_IMPORTED_MODULE_7___default.a,{value:e,onValueChange:_this.handleChangeBenchmark,highlight:function(e){return Object(prismjs_components_prism_core__WEBPACK_IMPORTED_MODULE_8__.highlight)(e,prismjs_components_prism_core__WEBPACK_IMPORTED_MODULE_8__.languages.js)},padding:10,className:"Editor",onBlur:_this.handleUpdateBenchmark})))},_this.renderErrors=function(){var e=_this.state,_=e.syntaxError,t=e.runtimeError;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment,null,Boolean(_)&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p",null,"Syntax error: ",_),Boolean(t)&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p",null,"Runtime error: ",t))},_this.renderArgumentInputs=function(){var e=_this.state,_=e.benchmark,t=e.benchmarkBody,n=e.values,r=e.syntaxError,a=[];try{a=retrieve_arguments__WEBPACK_IMPORTED_MODULE_11___default()(_)}catch(s){r||(a=Object(_utils_retrieveArrowArguments__WEBPACK_IMPORTED_MODULE_19__.a)(t))}return a.map(function(e,_){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("label",{key:_},e," ="," ",react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("input",{name:e,type:"text",value:n[_],onChange:_this.handleChangeArgument(_),disabled:r}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("br",null))})},_this.renderOptions=function(){var e=_this.state,_=e.totalRenders,t=e.syntaxError,n=e.withMemo;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("label",null,"Total number of renders:"," ",react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("input",{name:"total number of renders",type:"number",value:_,onChange:_this.handleChangeTotalRenders,disabled:t})),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"radio"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("label",null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("input",{type:"radio",value:"class",checked:_this.isClassComponent(),onChange:_this.handleChangeComponent("class"),disabled:t}),componentDescriptionMap.class)),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"radio"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("label",null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("input",{type:"radio",value:"functional",checked:_this.isFunctionalComponent(),onChange:_this.handleChangeComponent("functional"),disabled:t}),componentDescriptionMap.functional)),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"radio"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("label",null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("input",{type:"radio",value:"hooks",checked:_this.isHooksComponent(),onChange:_this.handleChangeComponent("hooks"),disabled:t}),componentDescriptionMap.hooks)),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("label",null,"Use useMemo:",react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("input",{name:"withMemo",type:"checkbox",checked:n,onChange:_this.handleChangeWithMemo,disabled:t||!_this.isHooksComponent()})))},_this.renderGoButton=function(){var e=_this.state,_=e.syntaxError,t=e.component;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",{onClick:_this.handleClickRunBenchmark,disabled:_||!t},"Go!")},_this.renderBenchmark=function(){var e=_this.state,_=e.runBenchmark,t=e.component,n=e.benchmark,r=e.values,a=e.totalRenders,s=e.withMemo;return _&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_Benchmark__WEBPACK_IMPORTED_MODULE_12__.a,{component:componentMap[t],benchmark:n,values:r,totalRenders:a,withMemo:s,stopBenchmark:_this.stopBenchmark,catchRuntimeError:_this.catchRuntimeError})},_this.renderResults=function(){var e=_this.state,_=e.runBenchmark,t=e.startTime,n=e.stopTime,r=e.totalRenders,a=e.component,s=e.withMemo,o=_this.isHooksComponent()?"".concat(componentDescriptionMap[a]," ").concat(s?"":"without ","using useMemo"):componentDescriptionMap[a];return!_&&Boolean(t)&&Boolean(n)&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p",null,"Calculating the function ",r," times took the"," ",o," ",n.getTime()-t.getTime()," ","milliseconds.")},_this.renderBenchmarkInfo=function(){var e=_this.state,_=e.component,t=e.benchmark,n=e.values,r=e.withMemo,a="null";t&&(a=(a=t.toString()).slice(0,a.indexOf("{")+1));var s="props = {\n  benchmark: ".concat(a,"...},\n  catchRuntimeError: errorMessage => {...},\n  values: [").concat(n.join(" "),"],\n  withMemo: ").concat(r,",\n}");return Boolean(_)&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_CodeSnippet__WEBPACK_IMPORTED_MODULE_16__.a,{code:componentCodeMap[_]}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_CodeSnippet__WEBPACK_IMPORTED_MODULE_16__.a,{code:s}))},_this.state={benchmark:defaultBenchmarkFunction,component:null,runBenchmark:!1,withMemo:!1,values:[35],startTime:null,stopTime:null,totalRenders:10,benchmarkBody:_utils_defaultBenchmark__WEBPACK_IMPORTED_MODULE_18__.a,syntaxError:null,runtimeError:null},_this}return Object(_home_matthias_Projects_stress_hooks_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__.a)(App,_React$Component),Object(_home_matthias_Projects_stress_hooks_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__.a)(App,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("h1",null,"Stress Testing React Hooks"),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("form",null,this.renderBenchmarkFunction(),this.renderErrors(),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("br",null),this.renderArgumentInputs(),this.renderOptions(),this.renderGoButton()),this.renderBenchmark(),this.renderResults(),this.renderBenchmarkInfo())}}]),App}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component);__webpack_exports__.a=App},,,function(e,_,t){"use strict";var n=t(28),r=t(3),a=t(4),s=t(6),o=t(5),c=t(9),l=t(7),u=t(1),i=t.n(u),m=function(e){function _(e){var t;return Object(r.a)(this,_),(t=Object(s.a)(this,Object(o.a)(_).call(this,e))).state={renderNumber:1},t.increaseRenderNumber=t.increaseRenderNumber.bind(Object(c.a)(t)),t}return Object(l.a)(_,e),Object(a.a)(_,[{key:"componentDidMount",value:function(){this.increaseRenderNumber()}},{key:"increaseRenderNumber",value:function(){var e=this;this.state.renderNumber<=this.props.totalRenders?this.setState(function(e){return{renderNumber:e.renderNumber+1}},function(){setTimeout(e.increaseRenderNumber,0)}):this.props.stopBenchmark()}},{key:"render",value:function(){var e=this.props,_=e.component,t=Object(n.a)(e,["component"]);return i.a.createElement(_,Object.assign({renderNumber:this.state.renderNumber},t))}}]),_}(i.a.Component);_.a=m},function(e,_,t){"use strict";var n=t(2),r=t(3),a=t(4),s=t(6),o=t(5),c=t(7),l=t(1),u=t.n(l),i=function(e){function _(e){var t;Object(r.a)(this,_);var a,c=(t=Object(s.a)(this,Object(o.a)(_).call(this,e))).props,l=c.benchmark,u=c.values,i=c.catchRuntimeError;try{a=l.apply(void 0,Object(n.a)(u))}catch(m){i(m.message)}return t.state={result:a},t}return Object(c.a)(_,e),Object(a.a)(_,[{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement("h2",null,"Class Component"),u.a.createElement("table",null,u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("td",null,"Result"),u.a.createElement("td",null,this.state.result)),u.a.createElement("tr",null,u.a.createElement("td",null,"Render #"),u.a.createElement("td",null,this.props.renderNumber)))))}}]),_}(u.a.Component);_.a=i},function(e,_,t){"use strict";var n=t(2),r=t(1),a=t.n(r);_.a=function(e){var _,t=e.benchmark,r=e.values,s=e.catchRuntimeError;try{_=t.apply(void 0,Object(n.a)(r))}catch(o){s(o.message)}return a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",null,"Functional component without Hooks"),a.a.createElement("table",null,a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,"Result"),a.a.createElement("td",null,_)),a.a.createElement("tr",null,a.a.createElement("td",null,"Render #"),a.a.createElement("td",null,e.renderNumber)))))}},function(e,_,t){"use strict";var n=t(27),r=t(2),a=t(1),s=t.n(a);_.a=function(e){var _,t=e.benchmark,o=e.values,c=e.catchRuntimeError;try{console.log(e.withMemo),_=e.withMemo?Object(a.useMemo)(function(){return t.apply(void 0,Object(r.a)(o))},e.values):t.apply(void 0,Object(r.a)(o))}catch(i){c(i.message)}var l=Object(a.useState)(_),u=Object(n.a)(l,1)[0];return s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",null,"Functional component with Hooks"),s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,"Result"),s.a.createElement("td",null,u)),s.a.createElement("tr",null,s.a.createElement("td",null,"Render #"),s.a.createElement("td",null,e.renderNumber)))))}},,function(e,_,t){"use strict";_.a=function(e){var _=e.indexOf("=>");if(-1===_)return[];var t=e.slice(0,_),n=t.indexOf("(");if(-1===n)return[t];var r=t.indexOf(")");return-1===r?[]:t.slice(n+1,r).split(",")}},,,function(e,_,t){e.exports=t(30)},function(e,_,t){"use strict";t.r(_);var n=t(1),r=t.n(n),a=t(17),s=t.n(a),o=(t(35),t(18));s.a.render(r.a.createElement(o.a,null),document.getElementById("root"))},,,,,function(e,_,t){},,,function(e,_,t){}],[[29,1,2]]]);
//# sourceMappingURL=main.4a6c3cf8.chunk.js.map